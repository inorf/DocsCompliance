:root {
  --accent: rgba(148, 163, 184, 0.1);
  --on-accent: #ffffff;
}

/* Theme variables scoped for the contracts component */
:root {
  --surface: var(--card);
  --foreground: var(--foreground);
  --muted: var(--muted-foreground);
  --accent: linear-gradient(135deg, #2563eb, #7c3aed);
  --on-accent: #ffffff;
  --danger: #dc2626;
  --input-border: var(--border);
}

[data-theme="light"] {
  --surface: #ffffff;
  --foreground: #1e293b;
  --muted: #64748b;
  --danger: #dc2626;
  --input-border: rgba(0,0,0,0.12);
}
[data-theme="dark"] {
  --surface: #111827;
  --foreground: #e6eef6;
  --muted: #9aa0a6;
  --danger: #ff6666;
  --input-border: rgba(255,255,255,0.12);
}

html:not([data-theme]) {
  --surface: #111827;
  --foreground: #e6eef6;
  --muted: #9aa0a6;
  --danger: #ff6666;
  --input-border: rgba(255,255,255,0.12);
}

@media (prefers-color-scheme: light) {
  html:not([data-theme]) {
    --surface: #ffffff;
    --foreground: #1e293b;
    --muted: #64748b;
    --danger: #dc2626;
    --input-border: rgba(0,0,0,0.12);
  }
}

.contracts-page {
  max-width: 1100px;
  margin-left: auto;
  margin-right: auto;
  padding: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
  color: var(--foreground);
}

@media (max-width: 1399px) {
  .contracts-page {
    padding: 1.5rem;
  }
}

@media (max-width: 768px) {
  .contracts-page {
    padding: 1rem;
  }
}

.contracts-header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:1rem;
}

.contracts-list {
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1rem;
}

.contract-card {
  background: var(--card-background, var(--surface));
  border: 1px solid rgba(0,0,0,0.06);
  padding: 1rem;
  border-radius: 8px;
  box-shadow: 0 1px 0 rgba(0,0,0,0.04);
}

.card-row {
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap: 8px;
}

.contrDet {
  color: #e6eef6;
}

.card-title { font-weight:600; }
.card-meta { margin-top:0.6rem; display:flex; gap:1rem; flex-wrap:wrap; }
@media (prefers-color-scheme: dark) {
  .card-meta { color: var(--card-background); }
}
@media (prefers-color-scheme: light) {
  .card-meta { color: var(--foreground); }
}
.card-actions .btn { margin-left:8px }

.btn { background:transparent; border:1px solid var(--muted, #777); padding:6px 10px; border-radius:6px; cursor:pointer }
.btn.primary { background:var(--accent); border-color:transparent }
.btn.small { padding:4px 8px; font-size:0.9rem }
.btn.secondary { background:transparent; border:1px solid rgba(255,255,255,0.03) }
.btn.danger { background: transparent; border:1px solid var(--danger, #ff6666); color: var(--danger, #ff6666) }

.loading { padding:1rem }
.empty { padding:1rem; color:var(--muted) }

.modalOverlay { position:fixed; inset:0; background:rgba(0,0,0,0.45); display:flex; align-items:center; justify-content:center; z-index:60 }
.modal { background:var(--surface); border-radius:10px; width:720px; max-width:95%; padding:0; box-shadow:0 10px 30px rgba(0,0,0,0.5) }
@media (prefers-color-scheme: dark) {
  .modal {  color:var(--foreground); }
}
@media (prefers-color-scheme: light) {
  .modal {  color:var(--foreground); }
}
.modal.small { width:640px }
.modalHeader { display:flex; justify-content:space-between; align-items:center; padding:12px 16px; border-bottom:1px solid rgba(255,255,255,0.03);background-color: rgba(20, 28, 50);border-radius: 10px 10px 0 0;}
.modalHeader h3 {color: #e6eef6;}

html[data-theme="light"] .modalHeader {
  background-color: #ffffff;
  border-bottom:1px solid rgba(0,0,0,0.08);
}

html[data-theme="light"] .modalHeader h3 {
  color: #1e293b;
}
.modalBody { padding:16px; max-height:60vh; overflow:auto; background-color: rgba(20, 28, 50);border-radius: 10px; }
.modalFooter { padding:12px 16px; display:flex; justify-content:flex-end; gap:8px; border-top:1px solid rgba(255,255,255,0.03) }
@media (prefers-color-scheme: light) {
  .modalBody { background-color: #ffffff; }
}
@media (prefers-color-scheme: dark) {
  .modalBody { color: var(--foreground); }
}
.close { background:transparent; border:0; font-size:20px; cursor:pointer }

.field { margin-bottom:12px; display:flex; flex-direction:column; gap:6px }
.field.small { flex:1 }
.fieldsRow { display:flex; gap:12px }
.label { font-size:0.85rem; color:#1e293b }
input, textarea { padding:8px; border-radius:6px; border:1px solid var(--input-border, rgba(0,0,0,0.12)); background:transparent; color:var(--foreground) }
textarea { min-height:80px }
.formError { color: var(--danger, #ff6666); margin-top:8px }
.preWrap { white-space:pre-wrap }
.milestoneRow { display:flex; gap:8px; margin-top:6px }

/* Milestones list inside details modal */
.milestones { margin-top:8px; display:flex; flex-direction:column; gap:8px }
.milestone { padding:8px; border-radius:6px; background: rgba(0,0,0,0.04); border:1px solid rgba(0,0,0,0.04) }
.milestone-title { font-weight:600 }
.milestone-meta { font-size:0.9rem; margin-top:4px }
.milestone-assigned { font-size:0.85rem; margin-top:6px }

html[data-theme="dark"] .modalBody,
html:not([data-theme]) .modalBody {
  background-color: var(--surface);
}

html[data-theme="dark"] .milestone,
html:not([data-theme]) .milestone {
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.03);
}

html[data-theme="light"] .modalBody {
  background-color: var(--surface);
}

html[data-theme="light"] .milestone {
  background: rgba(0,0,0,0.02);
  border: 1px solid rgba(0,0,0,0.04);
}

html[data-theme="light"] .contracts-page .btn.primary,
html[data-theme="light"] .card-actions .btn.primary {
  color: #ffffff !important;
}

input, textarea {
  border: 1px solid var(--input-border);
}

@media (prefers-color-scheme: dark) {
  html:not([data-theme]) .modalBody {
    background-color: var(--surface);
  }
  
  html:not([data-theme]) .milestone {
    background: rgba(255,255,255,0.02);
    border: 1px solid rgba(255,255,255,0.03);
  }
}

@media (prefers-color-scheme: light) {
  html:not([data-theme]) .modalBody {
    background-color: var(--surface);
  }
  
  html:not([data-theme]) .milestone {
    background: rgba(0,0,0,0.02);
    border: 1px solid rgba(0,0,0,0.04);
  }
}

@media (max-width: 900px) {
  .contracts-list { grid-template-columns: 1fr }
  .fieldsRow { flex-direction:column }
}

